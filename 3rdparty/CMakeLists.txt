## Eigen
if(NOT EXISTS "${CMAKE_CURRENT_SOURCE_DIR}/eigen/CMakeLists.txt")
    message(FATAL_ERROR "Eigen submodule not initialized")
endif()
option(EIGEN_BUILD_CMAKE_PACKAGE OFF)
option(EIGEN_BUILD_DOC OFF)
option(EIGEN_BUILD_PKGCONFIG OFF)
add_subdirectory(eigen)
mark_as_advanced(
    EIGEN_BUILD_CMAKE_PACKAGE EIGEN_BUILD_DOC EIGEN_BUILD_PKGCONFIG
    EIGEN_BUILD_SPBENCH EIGEN_DEFAULT_TO_ROW_MAJOR
    EIGEN_BUILD_DOC EIGEN_INTERNAL_DOCUMENTATION EIGEN_DOC_USE_MATHJAX

    EIGEN_BUILD_TESTING EIGEN_SPLIT_LARGE_TESTS EIGEN_SYCL_TRISYCL
    EIGEN_TEST_32BIT EIGEN_TEST_ALTIVEC EIGEN_TEST_AVX EIGEN_TEST_AVX2 EIGEN_TEST_AVX512
    EIGEN_TEST_AVX512DQ EIGEN_TEST_CUSTOM_CXX_FLAGS EIGEN_TEST_CUSTOM_LINKER_FLAGS
    EIGEN_TEST_CXX11 EIGEN_TEST_F16C EIGEN_TEST_FMA EIGEN_TEST_MAX_SIZE EIGEN_TEST_MSA
    EIGEN_TEST_NEON EIGEN_TEST_NEON64 EIGEN_TEST_NO_EXCEPTIONS EIGEN_TEST_Z14
    EIGEN_TEST_NO_EXPLICIT_ALIGNMENT EIGEN_TEST_NO_EXPLICIT_VECTORIZATION
    EIGEN_TEST_OPENMP EIGEN_TEST_SSE2 EIGEN_TEST_SSE3 EIGEN_TEST_SSE4_1 EIGEN_TEST_SSE4_2
    EIGEN_TEST_SSSE3 EIGEN_TEST_SYCL EIGEN_TEST_VSX EIGEN_TEST_X87 EIGEN_TEST_Z13
)
set(conky_libs ${conky_libs} Eigen3::Eigen)

## toluapp
add_subdirectory(toluapp)
set(toluapp_includes ${CMAKE_CURRENT_SOURCE_DIR}/toluapp/include)
set(conky_includes ${conky_includes} ${toluapp_includes})
set(conky_libs ${conky_libs} toluapp_lib_static)

# Update values in global scope
set(toluapp_includes ${toluapp_includes} PARENT_SCOPE)
set(conky_includes ${conky_includes} PARENT_SCOPE)
set(conky_libs ${conky_libs} PARENT_SCOPE)

